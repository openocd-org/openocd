transport select swd

source [find target/swj-dp.tcl]

if { [info exists CHIPNAME] } {
        set _CHIPNAME $CHIPNAME
} else {
        set _CHIPNAME rp2350
}

if { [info exists WORKAREASIZE] } {
        set _WORKAREASIZE $WORKAREASIZE
} else {
        set _WORKAREASIZE 0x10000
}

if { [info exists CPUTAPID] } {
        set _CPUTAPID $CPUTAPID
} else {
        set _CPUTAPID 0x00040927
}

swj_newdap $_CHIPNAME swd -expected-id $_CPUTAPID
dap create $_CHIPNAME.dap -chain-position $_CHIPNAME.swd -adiv6

init

# Check idr
rp2350.dap apreg 0x80000 0xffc

# reset
rp2350.dap apreg 0x80000 4 0x4
# key = 0x108544d451c94a684448260128db1b8c
# LSB first
# i.e. c == 1100
# push is bit 1, data is bit 0
# so c is 0x2, 0x2, 0x3, 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x3
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2
rp2350.dap apreg 0x80000 4 0x2

echo "Now attach a debugger to your RP2350 and load some code"
